# **Gitanalyzer**

Gitanalyzer — это консольная утилита для подсчёта статистики авторов в Git-репозитории. С её помощью вы можете анализировать, кто внёс наибольший вклад в проект, основываясь на строках кода, коммитах и файлах.

## **Пример использования**

`./gitanalyzer --repository=git@github.com:DmitryVasilkovW/Git-repository-analyzer.git --revision=HEAD --order-by=commits --show-languages=true`

**Результат:**

````  
User                 Files      Lines      Commits    Languages
Dmitry Vasilkov      88         7335       2          JSON (3377), Go Module (5), Go Checksums (2), YAML (150), Ignore List (117), Makefile (2), Markdown (252), Go (1183)
````

## **Возможности**

gitanalyzer предоставляет следующие метрики для каждого автора:

* **Количество строк** кода
* **Количество уникальных коммитов**
* **Количество файлов**, затронутых коммитами автора

Все статистики рассчитываются на основе последнего состояния репозитория.



## **Флаги**

gitanalyzer поддерживает следующие флаги:

* **`--repository`**  
  Путь до репозитория (по умолчанию текущая директория).
* **`--revision`**  
  Указатель на коммит (по умолчанию `HEAD`).
* **`--order-by`**  
  Ключ сортировки результатов: `lines` (по умолчанию), `commits`, `files`.
* **`--use-committer`**  
  Заменяет автора на коммиттера.
* **`--format`**  
  Формат вывода:
    * `tabular` (по умолчанию)
    * `csv`
    * `json`
    * `json-lines`
* **`--extensions`**  
  Список расширений файлов для анализа, например, `'.go,.md'`.
* **`--languages`**  
  Список языков для анализа, например, `'go,markdown'`.
* **`--exclude`**  
  Glob-паттерны для исключения файлов, например, `'foo/*,bar/*'`.
* **`--restrict-to`**  
  Glob-паттерны для фильтрации только нужных файлов.
* **`--show-languages`**  
  при значении true утилита выведет все использованные языки для каждого пользователя и количество строк для каждого языка 

## **Тестирование**

Для запуска тестов используйте команду:

bash  
Копировать код  
`go test -v ./gitanalyzer/test/integration/...`

Интеграционные тесты используют заранее подготовленные Git-бандлы, хранящиеся в `/tests/integration/testdata/bundles`. Чтобы создать собственный бандл, выполните:

bash  
Копировать код  
`git bundle create my.bundle --all`

Распакуйте бандл:

bash  
Копировать код  
`git clone /path/to/my.bundle .`